
public class Point {
    private double x;
    private double y;

    public Point() {
        this.x = 0.0;
        this.y = 0.0;
    }

    public Point(double x, double y) {
        this.x = x;
        this.y = y;
    }

    public void afficher() {
        System.out.printf("Point(%.2f, %.2f)%n", x, y);
    }

    public void deplacer(double newX, double newY) {
        this.x = newX;
        this.y = newY;
    }

    public double getAbscisse() { return x; }
    public double getOrdonnee() { return y; }

    public boolean coincide(Point p) {
        if (p == null) return false;
        return Double.compare(x, p.x) == 0 && Double.compare(y, p.y) == 0;
    }
}

public class Segment {
    private Point gauche;
    private Point droite;

    public Segment(Point p1, Point p2) {
        this.gauche = p1;
        this.droite = p2;
    }

    public void deplacerAbs(double dx) {
        gauche.deplacer(gauche.getAbscisse() + dx, gauche.getOrdonnee());
        droite.deplacer(droite.getAbscisse() + dx, droite.getOrdonnee());
    }

    public void deplacerOrd(double dy) {
        gauche.deplacer(gauche.getAbscisse(), gauche.getOrdonnee() + dy);
        droite.deplacer(droite.getAbscisse(), droite.getOrdonnee() + dy);
    }

    public double longueur() {
        double dx = droite.getAbscisse() - gauche.getAbscisse();
        double dy = droite.getOrdonnee() - gauche.getOrdonnee();
        return Math.sqrt(dx*dx + dy*dy);
    }
    public void affiche() {
        System.out.print("Extrémité gauche: ");
        gauche.afficher();
        System.out.print("Extrémité droite:  ");
        droite.afficher();
        System.out.printf("Longueur: %.4f%n", longueur());
    }
}
public class TestSegment {
    public static void main(String[] args) {
        Point p1 = new Point(0.0, 0.0);
        Point p2 = new Point(3.0, 4.0); // longueur attendue 5.0
        Segment s = new Segment(p1, p2);

        System.out.println("--- Segment initial ---");
        s.affiche();

        System.out.println("\nDéplacement selon abscisse dx = +2");
        s.deplacerAbs(2.0);
        s.affiche();

        System.out.println("\nDéplacement selon ordonnée dy = -1");
        s.deplacerOrd(-1.0);
        s.affiche();

        Point p3 = new Point(2.0, -1.0);
        System.out.println("\nLe point gauche coïncide avec p3(2.0,-1.0) ? " + p1.coincide(p3));
    }
}

